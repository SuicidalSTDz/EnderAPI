<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="EnderAPI : An API by the people, for the people" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>EnderAPI</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/SuicidalSTDz/EnderAPI">View on GitHub</a>

          <h1 id="project_title">EnderAPI</h1>
          <h2 id="project_tagline">An API by the people, for the people</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/SuicidalSTDz/EnderAPI/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/SuicidalSTDz/EnderAPI/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
<a name="developement-team" class="anchor" href="#developement-team"><span class="octicon octicon-link"></span></a>Developement Team</h2>

<p><a href="https://github.com/SuicidalSTDz">SuicidalSTDz</a> - Lead Developer <br><a href="https://github.com/apemanzilla">apemanzilla</a> - Developer <br><a href="https://github.com/skwerlman">skwerlman</a> - Developer <br><a href="https://github.com/EngineerCoding">EngineerCoding</a> - Developer <br></p>

<h2>
<a name="accepted-suggestions" class="anchor" href="#accepted-suggestions"><span class="octicon octicon-link"></span></a>Accepted Suggestions</h2>

<ul>
<li>Graph API</li>
<li>Better Parallel API</li>
<li>Better Turtle API</li>
<li>Debugging API</li>
<li>Terminal Screenshot API (An add-on to the native term API)</li>
<li>Prompt API (By KingofGamesYami)</li>
</ul><h2>
<a name="colors-api" class="anchor" href="#colors-api"><span class="octicon octicon-link"></span></a>Colors API</h2>

<h3>
<a name="colorsconverttostring-ncolor-" class="anchor" href="#colorsconverttostring-ncolor-"><span class="octicon octicon-link"></span></a>colors.convertToString( nColor )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">colors</span><span class="p">.</span><span class="nf">convertToString</span><span class="p">(</span> <span class="n">nColor</span> <span class="p">)</span>
  <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="k">in</span> <span class="nb">pairs</span><span class="p">(</span> <span class="n">colors</span> <span class="p">)</span> <span class="k">do</span>
    <span class="k">if</span> <span class="n">nColor</span> <span class="o">==</span> <span class="n">v</span> <span class="k">then</span>
      <span class="k">return</span> <span class="n">k</span>
    <span class="k">end</span>
  <span class="k">end</span>
  <span class="k">return</span> <span class="kc">nil</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Converts nColor to it's english string. For instance, colors.convertToString( 1 ) will return "black"</li>
<li>Returns color [<em>string</em>]</li>
</ul><h2>
<a name="fs-api" class="anchor" href="#fs-api"><span class="octicon octicon-link"></span></a>Fs API</h2>

<h3>
<a name="fsappend-spath-sdata-" class="anchor" href="#fsappend-spath-sdata-"><span class="octicon octicon-link"></span></a>fs.append( sPath, sData )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">fs</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="n">sData</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">),</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sData</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sData</span> <span class="p">),</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="kd">local</span> <span class="n">f</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">fs</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">sPath</span><span class="p">)</span> <span class="k">then</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">fs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="s2">"</span><span class="s">w"</span> <span class="p">)</span>
  <span class="k">else</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">fs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="s2">"</span><span class="s">a"</span> <span class="p">)</span>
  <span class="k">end</span>
  <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span> <span class="n">sData</span> <span class="p">)</span>
  <span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Appends sData to sPath</li>
<li>Returns: <em>nil</em>
</li>
</ul><h3>
<a name="fsread-spath-" class="anchor" href="#fsread-spath-"><span class="octicon octicon-link"></span></a>fs.read( sPath )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">fs</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">string expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">),</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="k">if</span> <span class="n">fs</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">sPath</span><span class="p">)</span> <span class="k">then</span>
    <span class="kd">local</span> <span class="n">handle</span> <span class="o">=</span> <span class="n">fs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="s2">"</span><span class="s">r"</span> <span class="p">)</span>
    <span class="kd">local</span> <span class="n">sData</span> <span class="o">=</span> <span class="n">handle</span><span class="p">.</span><span class="n">readAll</span><span class="p">()</span>
    <span class="n">handle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">sData</span><span class="p">,</span> <span class="kc">true</span>
  <span class="k">end</span>
  <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">false</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Returns sPath's contents</li>
<li>Returns: contents <em>string</em>, success <em>boolean</em>
</li>
</ul><h3>
<a name="fssave-spath-sdata-" class="anchor" href="#fssave-spath-sdata-"><span class="octicon octicon-link"></span></a>fs.save( sPath, sData )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">fs</span><span class="p">.</span><span class="nf">save</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="n">sData</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">),</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sData</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sData</span> <span class="p">),</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="kd">local</span> <span class="n">f</span> <span class="o">=</span> <span class="n">fs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="s2">"</span><span class="s">w"</span> <span class="p">)</span>
  <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span> <span class="n">sData</span> <span class="p">)</span>
  <span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Saves sData to sPath ( overwrites current file )</li>
<li>Returns: <em>nil</em>
</li>
</ul><h2>
<a name="http-api" class="anchor" href="#http-api"><span class="octicon octicon-link"></span></a>HTTP API</h2>

<h3>
<a name="httpdownload-surl-spath-" class="anchor" href="#httpdownload-surl-spath-"><span class="octicon octicon-link"></span></a>http.download( sUrl, sPath )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">http</span><span class="p">.</span><span class="nf">download</span><span class="p">(</span> <span class="n">sUrl</span><span class="p">,</span> <span class="n">sPath</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sUrl</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sUrl</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="ow">not</span> <span class="n">fs</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">),</span> <span class="s2">"</span><span class="s">Path already exists"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

  <span class="kd">local</span> <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">get</span><span class="p">(</span> <span class="n">sUrl</span> <span class="p">)</span>
  <span class="k">if</span> <span class="n">response</span> <span class="k">then</span>
    <span class="kd">local</span> <span class="n">f</span> <span class="o">=</span> <span class="n">fs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="s2">"</span><span class="s">w"</span> <span class="p">)</span>
    <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span> <span class="n">response</span><span class="p">.</span><span class="n">readAll</span><span class="p">()</span> <span class="p">)</span>
    <span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">response</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="kc">true</span>
  <span class="k">end</span>
  <span class="k">return</span> <span class="kc">false</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Downloads the given sUrl in sPath</li>
<li>Returns: success <em>boolean</em>
</li>
</ul><h2>
<a name="messagebox-api" class="anchor" href="#messagebox-api"><span class="octicon octicon-link"></span></a>MessageBox API</h2>

<h3>
<a name="messageboxcreate-stext-fyes-fno-" class="anchor" href="#messageboxcreate-stext-fyes-fno-"><span class="octicon octicon-link"></span></a>messageBox.create( sText, fYes, fNo )</h3>

<p>WARNING: Probably very unappealing but don't complain. I am working on it <br></p>

<div class="highlight highlight-Lua"><pre><span class="kd">local</span> <span class="k">function</span> <span class="nf">assert</span><span class="p">(</span><span class="n">bBool</span><span class="p">,</span> <span class="n">sMessage</span><span class="p">,</span> <span class="n">nLevel</span><span class="p">)</span>
  <span class="n">nLevel</span> <span class="o">=</span> <span class="n">nLevel</span> <span class="ow">or</span> <span class="o">-</span><span class="mi">1</span> <span class="c1">-- Changing the value of a param doesn't affect its scope, so local isn't necessary. (confirmed by eclipse)</span>
  <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">sMessage</span><span class="p">)</span> <span class="o">~=</span> <span class="s2">"</span><span class="s">string"</span> <span class="k">then</span>
    <span class="nb">error</span><span class="p">(</span><span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sMessage</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">elseif</span> <span class="nb">type</span><span class="p">(</span><span class="n">nLevel</span><span class="p">)</span> <span class="o">~=</span> <span class="s2">"</span><span class="s">number"</span> <span class="k">then</span>
    <span class="nb">error</span><span class="p">(</span><span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nLevel</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">if</span> <span class="ow">not</span> <span class="n">bBool</span> <span class="k">then</span>
    <span class="nb">error</span><span class="p">(</span> <span class="n">sMessage</span><span class="p">,</span> <span class="n">nLevel</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span> <span class="c1">-- should be nLevel; iLevel was a typo</span>
  <span class="k">end</span>
  <span class="k">return</span> <span class="n">bBool</span>
<span class="k">end</span>

<span class="kd">local</span> <span class="k">function</span> <span class="nf">getContainer</span><span class="p">(</span> <span class="n">obj</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">tIgnore</span><span class="p">,</span> <span class="n">bGlobal</span> <span class="p">)</span> <span class="c1">-- a nifty little function that finds the name of the variable holding its first param in the environment provided by env, and ignores all variables with names matching those in tIgnore. It will scan _G if bGlobal == true and the variable is not in env</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">tIgnore</span> <span class="k">then</span>
    <span class="n">tIgnore</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="k">end</span>
  <span class="n">bGlobal</span> <span class="o">=</span> <span class="n">bGlobal</span> <span class="ow">or</span> <span class="kc">false</span>
  <span class="k">if</span> <span class="nb">type</span><span class="p">(</span> <span class="n">tIgnore</span> <span class="p">)</span> <span class="o">~=</span> <span class="s1">'</span><span class="s">table'</span> <span class="k">then</span>
    <span class="n">tIgnore</span> <span class="o">=</span> <span class="p">{</span> <span class="n">tIgnore</span> <span class="p">}</span>
  <span class="k">end</span>
  <span class="nb">table.insert</span><span class="p">(</span> <span class="n">tIgnore</span><span class="p">,</span> <span class="s1">'</span><span class="s">obj'</span> <span class="p">)</span>
  <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="k">in</span> <span class="nb">pairs</span><span class="p">(</span><span class="n">env</span><span class="p">)</span> <span class="k">do</span> <span class="c1">-- Check the provided environment</span>
    <span class="kd">local</span> <span class="n">shouldIgnore</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">#</span><span class="n">tIgnore</span> <span class="k">do</span>
      <span class="k">if</span> <span class="n">tIgnore</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">k</span> <span class="k">then</span>
        <span class="n">shouldIgnore</span> <span class="o">=</span> <span class="kc">true</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="n">obj</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">shouldIgnore</span> <span class="k">then</span>
      <span class="k">return</span> <span class="n">k</span> <span class="c1">-- Return as soon as we find it</span>
    <span class="k">end</span>
  <span class="k">end</span>
  <span class="k">if</span> <span class="n">bGlobal</span> <span class="k">then</span> <span class="c1">-- scan _G, if we haven't found it yet</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="k">in</span> <span class="nb">pairs</span><span class="p">(</span><span class="nb">_G</span><span class="p">)</span> <span class="k">do</span>
      <span class="kd">local</span> <span class="n">shouldIgnore</span> <span class="o">=</span> <span class="kc">false</span>
      <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">#</span><span class="n">tIgnore</span> <span class="k">do</span>
        <span class="k">if</span> <span class="n">tIgnore</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">k</span> <span class="k">then</span>
          <span class="n">shouldIgnore</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="k">end</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="n">obj</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">shouldIgnore</span> <span class="k">then</span>
        <span class="k">return</span> <span class="n">k</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
  <span class="k">return</span> <span class="s1">'</span><span class="s">? (a local '</span><span class="o">..</span><span class="nb">type</span><span class="p">(</span> <span class="n">obj</span> <span class="p">)</span><span class="o">..</span><span class="s1">'</span><span class="s">)'</span> <span class="c1">-- Return a value similar in format to those provided for native errors if we couldn't find the object's name.</span>
<span class="k">end</span>

<span class="k">function</span> <span class="nf">create</span><span class="p">(</span> <span class="n">sText</span><span class="p">,</span> <span class="n">nBorderColour</span><span class="p">,</span> <span class="n">nInnerColour</span><span class="p">,</span> <span class="n">fYes</span><span class="p">,</span> <span class="n">fNo</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sText</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span><span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sText</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">fYes</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">function"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Function expected, got "</span><span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">fYes</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">fNo</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">function"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Function expected, got "</span><span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">fNo</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

  <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span> <span class="k">then</span>
    <span class="nb">error</span><span class="p">(</span> <span class="s2">"</span><span class="s">The Text API must be installed to use this function"</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="k">end</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">term</span><span class="p">.</span><span class="n">enderAPI</span> <span class="k">then</span> <span class="c1">-- We're also dependent on our term extensions, although no one noticed</span>
    <span class="nb">error</span><span class="p">(</span> <span class="s2">"</span><span class="s">The EnderAPI term extension must be enabled to use this function"</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="k">end</span>

  <span class="kd">local</span> <span class="n">nw</span><span class="p">,</span> <span class="n">nh</span> <span class="o">=</span> <span class="n">term</span><span class="p">.</span><span class="n">getSize</span><span class="p">()</span>
  <span class="kd">local</span> <span class="n">startX</span> <span class="o">=</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">nw</span> <span class="o">-</span> <span class="o">#</span><span class="n">sText</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="o">-</span> <span class="mi">5</span> <span class="p">)</span>
  <span class="kd">local</span> <span class="n">startY</span> <span class="o">=</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="n">nh</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span> <span class="p">)</span>
  <span class="kd">local</span> <span class="n">endX</span> <span class="o">=</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">nw</span> <span class="o">+</span> <span class="o">#</span><span class="n">sText</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">7</span> <span class="p">)</span>
  <span class="kd">local</span> <span class="n">endY</span> <span class="o">=</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="n">nh</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">4</span> <span class="p">)</span>
  <span class="kd">local</span> <span class="n">nMiddle</span> <span class="o">=</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="p">(</span> <span class="n">endX</span> <span class="o">+</span> <span class="n">startX</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="kd">local</span> <span class="n">tOverwrite</span> <span class="o">=</span> <span class="p">{}</span>

  <span class="c1">--# The two line below this were compacted. term.getCursorPos returns two values which can be put directly into a table, instead of asigning them manually</span>
  <span class="kd">local</span> <span class="n">tCursorPos</span> <span class="o">=</span> <span class="p">{</span> <span class="n">term</span><span class="p">.</span><span class="n">getCursorPos</span><span class="p">()</span> <span class="p">}</span>
  <span class="c1">--tCursorPos[1], tCursorPos[2] = term.getCursorPos() -- Save where the cursor was so we can put it back later</span>

  <span class="k">for</span> <span class="n">ny</span> <span class="o">=</span> <span class="n">startY</span><span class="p">,</span> <span class="n">endY</span> <span class="k">do</span>
    <span class="k">for</span> <span class="n">nx</span> <span class="o">=</span> <span class="n">startX</span><span class="p">,</span> <span class="n">endX</span> <span class="k">do</span>
      <span class="n">tOverwrite</span><span class="p">[</span> <span class="n">nx</span> <span class="o">..</span> <span class="s2">"</span><span class="s"> "</span> <span class="o">..</span> <span class="n">ny</span> <span class="p">]</span> <span class="o">=</span> <span class="n">term</span><span class="p">.</span><span class="n">getPixelData</span><span class="p">(</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span> <span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="n">paintutils</span><span class="p">.</span><span class="n">drawLine</span><span class="p">(</span> <span class="n">startX</span><span class="p">,</span> <span class="n">startY</span><span class="p">,</span> <span class="n">endX</span><span class="p">,</span> <span class="n">startY</span><span class="p">,</span> <span class="n">nBorderColour</span> <span class="p">)</span>
  <span class="n">paintutils</span><span class="p">.</span><span class="n">drawLine</span><span class="p">(</span> <span class="n">startX</span><span class="p">,</span> <span class="n">startY</span><span class="p">,</span> <span class="n">startX</span><span class="p">,</span> <span class="n">endY</span><span class="p">,</span> <span class="n">nBorderColour</span> <span class="p">)</span>
  <span class="n">paintutils</span><span class="p">.</span><span class="n">drawLine</span><span class="p">(</span> <span class="n">endX</span><span class="p">,</span> <span class="n">startY</span><span class="p">,</span> <span class="n">endX</span><span class="p">,</span> <span class="n">endY</span><span class="p">,</span> <span class="n">nBorderColour</span> <span class="p">)</span>
  <span class="n">paintutils</span><span class="p">.</span><span class="n">drawLine</span><span class="p">(</span> <span class="n">startX</span><span class="p">,</span> <span class="n">endY</span><span class="p">,</span> <span class="n">endX</span><span class="p">,</span> <span class="n">endY</span><span class="p">,</span> <span class="n">nBorderColour</span> <span class="p">)</span>
  <span class="k">for</span> <span class="n">ny</span> <span class="o">=</span> <span class="n">startY</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">endY</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">do</span>
    <span class="n">paintutils</span><span class="p">.</span><span class="n">drawLine</span><span class="p">(</span> <span class="n">startX</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ny</span><span class="p">,</span> <span class="n">endX</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ny</span><span class="p">,</span> <span class="n">nInnerColour</span> <span class="p">)</span>
  <span class="k">end</span>
  <span class="n">text</span><span class="p">.</span><span class="n">bracket</span><span class="p">(</span> <span class="s2">"</span><span class="s">Yes"</span><span class="p">,</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="n">startX</span> <span class="o">+</span> <span class="n">nMiddle</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="p">),</span> <span class="n">endY</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">colours</span><span class="p">.</span><span class="n">red</span><span class="p">,</span> <span class="n">colours</span><span class="p">.</span><span class="n">white</span><span class="p">,</span> <span class="n">nInnerColour</span> <span class="p">)</span> <span class="c1">-- Shouldn't we be using 'color' instead of 'colour'? 'color' takes up less space on the computer and is a microscopic amount faster, and there's no change in functionality</span>
  <span class="n">text</span><span class="p">.</span><span class="n">bracket</span><span class="p">(</span> <span class="s2">"</span><span class="s">No"</span><span class="p">,</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="p">(</span> <span class="n">endX</span> <span class="o">+</span> <span class="n">nMiddle</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">),</span> <span class="n">endY</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">colours</span><span class="p">.</span><span class="n">red</span><span class="p">,</span> <span class="n">colours</span><span class="p">.</span><span class="n">white</span><span class="p">,</span> <span class="n">nInnerColour</span> <span class="p">)</span>
  <span class="n">term</span><span class="p">.</span><span class="n">setCursorPos</span><span class="p">(</span> <span class="n">nMiddle</span> <span class="o">-</span> <span class="p">(</span> <span class="o">#</span><span class="n">sText</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">),</span> <span class="n">startY</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="n">term</span><span class="p">.</span><span class="n">write</span><span class="p">(</span> <span class="n">sText</span> <span class="p">)</span>

  <span class="kd">local</span> <span class="n">sEvent</span><span class="p">,</span> <span class="n">nButton</span><span class="p">,</span> <span class="n">xPos</span><span class="p">,</span> <span class="n">yPos</span><span class="p">,</span> <span class="n">fSelection</span>
  <span class="k">while</span> <span class="kc">true</span> <span class="k">do</span>
    <span class="n">sEvent</span><span class="p">,</span> <span class="n">nButton</span><span class="p">,</span> <span class="n">xPos</span><span class="p">,</span> <span class="n">yPos</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">pullEvent</span><span class="p">(</span> <span class="s2">"</span><span class="s">mouse_click"</span> <span class="p">)</span>

    <span class="k">if</span> <span class="n">nButton</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">then</span>
      <span class="k">if</span> <span class="n">yPos</span> <span class="o">==</span> <span class="n">endY</span> <span class="o">-</span> <span class="mi">2</span> <span class="k">then</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">xPos</span> <span class="o">&gt;=</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="p">(</span> <span class="n">startX</span> <span class="o">+</span> <span class="n">nMiddle</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span> <span class="p">)</span> <span class="ow">and</span> <span class="n">xPos</span> <span class="o">&lt;=</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="p">(</span> <span class="n">startX</span> <span class="o">+</span> <span class="n">nMiddle</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">4</span> <span class="p">)</span> <span class="k">then</span>
          <span class="kd">local</span> <span class="n">ok</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="nb">pcall</span><span class="p">(</span> <span class="n">fYes</span> <span class="p">)</span>
          <span class="n">fSelection</span> <span class="o">=</span> <span class="n">fYes</span>
          <span class="k">break</span>
        <span class="k">elseif</span> <span class="p">(</span> <span class="n">xPos</span> <span class="o">&gt;=</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="p">(</span> <span class="n">endX</span> <span class="o">+</span> <span class="n">nMiddle</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="ow">and</span> <span class="n">xPos</span> <span class="o">&lt;=</span> <span class="nb">math.floor</span><span class="p">(</span> <span class="p">(</span> <span class="n">endX</span> <span class="o">+</span> <span class="n">nMiddle</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">3</span> <span class="p">)</span> <span class="k">then</span>
          <span class="n">fSelection</span> <span class="o">=</span> <span class="n">fNo</span>
          <span class="k">break</span>
        <span class="k">end</span>
      <span class="k">end</span> <span class="c1">-- Fixed errant tabs; use tabs OR spaces, not both</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">for</span> <span class="n">ny</span> <span class="o">=</span> <span class="n">startY</span><span class="p">,</span> <span class="n">endY</span> <span class="k">do</span> <span class="c1">-- Moved this loop to execute before the response functions; prevents odd behavior</span>
    <span class="k">for</span> <span class="n">nx</span> <span class="o">=</span> <span class="n">startX</span><span class="p">,</span> <span class="n">endX</span> <span class="k">do</span>
      <span class="n">term</span><span class="p">.</span><span class="n">setTextColour</span><span class="p">(</span> <span class="n">tOverwrite</span><span class="p">[</span> <span class="n">nx</span> <span class="o">..</span> <span class="s2">"</span><span class="s"> "</span> <span class="o">..</span> <span class="n">ny</span> <span class="p">].</span><span class="n">TextColour</span> <span class="p">)</span>
      <span class="n">term</span><span class="p">.</span><span class="n">setBackgroundColour</span><span class="p">(</span> <span class="n">tOverwrite</span><span class="p">[</span> <span class="n">nx</span> <span class="o">..</span> <span class="s2">"</span><span class="s"> "</span> <span class="o">..</span> <span class="n">ny</span> <span class="p">].</span><span class="n">BackgroundColour</span> <span class="p">)</span>
      <span class="n">term</span><span class="p">.</span><span class="n">setCursorPos</span><span class="p">(</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span> <span class="p">)</span>
      <span class="n">term</span><span class="p">.</span><span class="n">write</span><span class="p">(</span> <span class="n">tOverwrite</span><span class="p">[</span> <span class="n">nx</span> <span class="o">..</span> <span class="s2">"</span><span class="s"> "</span> <span class="o">..</span> <span class="n">ny</span> <span class="p">].</span><span class="n">Character</span> <span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
  <span class="n">term</span><span class="p">.</span><span class="n">setCursorPos</span><span class="p">(</span><span class="nb">unpack</span><span class="p">(</span><span class="n">tCursorPos</span><span class="p">))</span>

  <span class="kd">local</span> <span class="n">ok</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="nb">pcall</span><span class="p">(</span> <span class="n">fSelection</span> <span class="p">)</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span> <span class="k">then</span>
    <span class="nb">error</span><span class="p">(</span> <span class="s2">"</span><span class="s">Could not invoke "</span><span class="o">..</span><span class="n">getContainer</span><span class="p">(</span><span class="n">fSelection</span><span class="p">,</span> <span class="nb">getfenv</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">{</span> <span class="s1">'</span><span class="s">fNo'</span><span class="p">,</span> <span class="s1">'</span><span class="s">fYes'</span><span class="p">,</span> <span class="s1">'</span><span class="s">fSelection'</span> <span class="p">}),</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>( Insert description here )</p>

<h2>
<a name="number-api" class="anchor" href="#number-api"><span class="octicon octicon-link"></span></a>Number API</h2>

<h3>
<a name="numbergenerate-nlength-nmin-nmax-" class="anchor" href="#numbergenerate-nlength-nmin-nmax-"><span class="octicon octicon-link"></span></a>number.generate( nLength, nMin, nMax )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">generate</span><span class="p">(</span> <span class="n">nLength</span><span class="p">,</span> <span class="n">nMin</span><span class="p">,</span> <span class="n">nMax</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nLength</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nLength</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nMins</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nMin</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nMax</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nMax</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="n">nMin</span> <span class="o">&lt;</span> <span class="n">nMax</span><span class="p">,</span> <span class="s2">"</span><span class="s">Minimum must be less than maximum"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

  <span class="kd">local</span> <span class="n">n</span> <span class="o">=</span> <span class="nb">math.random</span><span class="p">(</span> <span class="n">nMin</span><span class="p">,</span> <span class="n">nMax</span> <span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nLength</span> <span class="k">do</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">..</span> <span class="nb">math.random</span><span class="p">(</span> <span class="n">nMin</span><span class="p">,</span> <span class="n">nMax</span> <span class="p">)</span>
  <span class="k">end</span>
  <span class="k">return</span> <span class="nb">tonumber</span><span class="p">(</span> <span class="n">n</span> <span class="p">)</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Generates a number of nLength with values ranging from nMin to nMax</li>
<li>Returns: <em>number</em>
</li>
</ul><h3>
<a name="numberisodd-n-" class="anchor" href="#numberisodd-n-"><span class="octicon octicon-link"></span></a>number.isOdd( n )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">isOdd</span><span class="p">(</span> <span class="n">n</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">n</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">n</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">~=</span> <span class="mi">0</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Returns whether or not n is an odd number</li>
<li>Returns: <em>boolean</em>
</li>
</ul><h3>
<a name="numberiseven-n-" class="anchor" href="#numberiseven-n-"><span class="octicon octicon-link"></span></a>number.isEven( n )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">isEven</span><span class="p">(</span> <span class="n">n</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">n</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">n</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Returns whether or not n is an even number</li>
<li>Returns <em>boolean</em>
</li>
</ul><h2>
<a name="pastebin-api" class="anchor" href="#pastebin-api"><span class="octicon octicon-link"></span></a>Pastebin API</h2>

<h3>
<a name="pastebinget-scode-sfile-" class="anchor" href="#pastebinget-scode-sfile-"><span class="octicon octicon-link"></span></a>pastebin.get( sCode, sFile )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">get</span><span class="p">(</span> <span class="n">sCode</span><span class="p">,</span> <span class="n">sFile</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sCode</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sCode</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sFile</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sFile</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="kd">local</span> <span class="n">sPath</span> <span class="o">=</span> <span class="n">shell</span><span class="p">.</span><span class="n">resolve</span><span class="p">(</span> <span class="n">sFile</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="ow">not</span> <span class="n">fs</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">),</span> <span class="s2">"</span><span class="s">File exists"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

  <span class="kd">local</span> <span class="n">tResponse</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">get</span><span class="p">(</span> <span class="s2">"</span><span class="s">http://pastebin.com/raw.php?i="</span> <span class="o">..</span> <span class="n">textutils</span><span class="p">.</span><span class="n">urlEncode</span><span class="p">(</span> <span class="n">sCode</span> <span class="p">)</span> <span class="p">)</span>
  <span class="k">if</span> <span class="n">tResponse</span> <span class="k">then</span>
    <span class="kd">local</span> <span class="n">sResponse</span> <span class="o">=</span> <span class="n">tResponse</span><span class="p">.</span><span class="n">readAll</span><span class="p">()</span>
    <span class="n">tResponse</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>

    <span class="kd">local</span> <span class="n">handle</span> <span class="o">=</span> <span class="n">fs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="s2">"</span><span class="s">w"</span> <span class="p">)</span>
    <span class="n">handle</span><span class="p">.</span><span class="n">write</span><span class="p">(</span> <span class="n">sResponse</span> <span class="p">)</span>
    <span class="n">handle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="kc">true</span>
  <span class="k">end</span>
  <span class="k">return</span> <span class="kc">false</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Downloads sCode from pastebin as sFile</li>
<li>Returns: success <em>boolean</em>
</li>
</ul><h3>
<a name="pastebinput-sfile-" class="anchor" href="#pastebinput-sfile-"><span class="octicon octicon-link"></span></a>pastebin.put( sFile )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">put</span><span class="p">(</span> <span class="n">sFile</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sFile</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sFile</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

  <span class="kd">local</span> <span class="n">sPath</span> <span class="o">=</span> <span class="n">shell</span><span class="p">.</span><span class="n">resolve</span><span class="p">(</span> <span class="n">sFile</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="ow">not</span> <span class="n">fs</span><span class="p">.</span><span class="n">isDir</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">),</span> <span class="s2">"</span><span class="s">Cannot upload directories"</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="ow">not</span> <span class="n">fs</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">),</span> <span class="s2">"</span><span class="s">File doesn't exist"</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>

  <span class="kd">local</span> <span class="n">sName</span> <span class="o">=</span> <span class="n">fs</span><span class="p">.</span><span class="n">getName</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">)</span>
  <span class="kd">local</span> <span class="n">handle</span> <span class="o">=</span> <span class="n">fs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="s2">"</span><span class="s">r"</span> <span class="p">)</span>
  <span class="kd">local</span> <span class="n">sText</span> <span class="o">=</span> <span class="n">handle</span><span class="p">.</span><span class="n">readAll</span><span class="p">()</span>
  <span class="n">handle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
  <span class="kd">local</span> <span class="n">key</span> <span class="o">=</span> <span class="s2">"</span><span class="s">0ec2eb25b6166c0c27a394ae118ad829"</span>
  <span class="kd">local</span> <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">"</span><span class="s">http://pastebin.com/api/api_post.php"</span><span class="p">,</span> 
    <span class="s2">"</span><span class="s">api_option=paste&amp;"</span> <span class="o">..</span>
    <span class="s2">"</span><span class="s">api_dev_key="</span> <span class="o">..</span> <span class="n">key</span> <span class="o">..</span> <span class="s2">"</span><span class="s">&amp;"</span> <span class="o">..</span>
    <span class="s2">"</span><span class="s">api_paste_format=lua&amp;"</span> <span class="o">..</span>
    <span class="s2">"</span><span class="s">api_paste_name="</span> <span class="o">..</span> <span class="n">textutils</span><span class="p">.</span><span class="n">urlEncode</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">)</span> <span class="o">..</span> <span class="s2">"</span><span class="s">&amp;"</span> <span class="o">..</span>
    <span class="s2">"</span><span class="s">api_paste_code="</span> <span class="o">..</span> <span class="n">textutils</span><span class="p">.</span><span class="n">urlEncode</span><span class="p">(</span> <span class="n">sText</span> <span class="p">)</span>
  <span class="p">)</span>

  <span class="k">if</span> <span class="n">response</span> <span class="k">then</span>
    <span class="kd">local</span> <span class="n">sResponse</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">readAll</span><span class="p">()</span>
    <span class="kd">local</span> <span class="n">sCode</span> <span class="o">=</span> <span class="nb">string.match</span><span class="p">(</span> <span class="n">sResponse</span><span class="p">,</span> <span class="s2">"</span><span class="s">[^/]+$"</span> <span class="p">)</span>
    <span class="n">response</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">sCode</span><span class="p">,</span> <span class="kc">true</span>
  <span class="k">end</span>
  <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">false</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Uploads sFile to pastebin</li>
<li>Returns: code <em>string</em>, success <em>boolean</em>
</li>
</ul><h3>
<a name="pastebinupdatefile-scode-sfile-" class="anchor" href="#pastebinupdatefile-scode-sfile-"><span class="octicon octicon-link"></span></a>pastebin.updateFile( sCode, sFile )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">updateFile</span><span class="p">(</span> <span class="n">sCode</span><span class="p">,</span> <span class="n">sFile</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sCode</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sCode</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sFile</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sFile</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

  <span class="kd">local</span> <span class="n">sPath</span> <span class="o">=</span> <span class="n">shell</span><span class="p">.</span><span class="n">resolve</span><span class="p">(</span> <span class="n">sFile</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="ow">not</span> <span class="n">fs</span><span class="p">.</span><span class="n">isDirectory</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">),</span> <span class="s2">"</span><span class="s">Cannot update directory"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

  <span class="kd">local</span> <span class="n">httpHandle</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">get</span><span class="p">(</span> <span class="s2">"</span><span class="s">http://pastebin.com/raw.php?i="</span> <span class="o">..</span> <span class="n">textutils</span><span class="p">.</span><span class="n">urlEncode</span><span class="p">(</span> <span class="n">sCode</span> <span class="p">)</span> <span class="p">)</span>
  <span class="k">if</span> <span class="n">httpHandle</span> <span class="k">then</span>
    <span class="kd">local</span> <span class="n">sResponse</span> <span class="o">=</span> <span class="n">httpHandle</span><span class="p">.</span><span class="n">readAll</span><span class="p">()</span>
    <span class="n">httpHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">sResponse</span> <span class="ow">and</span> <span class="n">sResponse</span> <span class="o">~=</span> <span class="s2">"</span><span class="s">"</span> <span class="k">then</span>
      <span class="kd">local</span> <span class="n">fileContent</span> <span class="o">=</span> <span class="s2">"</span><span class="s">[none&amp;set]"</span>
      <span class="k">if</span> <span class="n">fs</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span> <span class="n">sPath</span> <span class="p">)</span> <span class="k">then</span>
        <span class="kd">local</span> <span class="n">fileHandle</span> <span class="o">=</span> <span class="n">fs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="s2">"</span><span class="s">r"</span> <span class="p">)</span>
        <span class="n">fileContent</span> <span class="o">=</span> <span class="n">fileHandle</span><span class="p">.</span><span class="n">readAll</span><span class="p">()</span>
        <span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
      <span class="k">end</span>

      <span class="k">if</span> <span class="n">fileContent</span> <span class="o">~=</span> <span class="n">sResponse</span> <span class="k">then</span>
        <span class="n">fileHandle</span> <span class="o">=</span> <span class="n">fs</span><span class="p">.</span><span class="n">open</span><span class="p">(</span> <span class="n">sPath</span><span class="p">,</span> <span class="s2">"</span><span class="s">w"</span> <span class="p">)</span>
        <span class="n">fileHandle</span><span class="p">.</span><span class="n">write</span><span class="p">(</span> <span class="n">sResponse</span> <span class="p">)</span>
        <span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">true</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="k">return</span> <span class="kc">false</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Updates sFile using sCode from pastebin, if sFile is not the same as pastebin file</li>
<li>Returns: success <em>boolean</em>
</li>
</ul><h2>
<a name="string-api" class="anchor" href="#string-api"><span class="octicon octicon-link"></span></a>String API</h2>

<h3>
<a name="stringgenerate-nlength-ncharset-" class="anchor" href="#stringgenerate-nlength-ncharset-"><span class="octicon octicon-link"></span></a>string.generate( nLength, nCharSet )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">string</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span> <span class="n">nLength</span><span class="p">,</span> <span class="n">nCharSet</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nLength</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nLength</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nCharSet</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nCharSet</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="kd">local</span> <span class="n">nCharSet</span> <span class="o">=</span> <span class="n">nCharSet</span> <span class="ow">or</span> <span class="mi">128</span>
    <span class="kd">local</span> <span class="n">str</span> <span class="o">=</span> <span class="s2">"</span><span class="s">"</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nLength</span> <span class="k">do</span>
        <span class="n">str</span> <span class="o">=</span> <span class="n">str</span> <span class="o">..</span> <span class="nb">math.random</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nCharSet</span> <span class="p">):</span><span class="n">char</span><span class="p">()</span>
    <span class="k">end</span>
    <span class="k">return</span> <span class="n">str</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Generates a string of nLength with ASCII characters ranging from 0 to nCharSet</li>
<li>Returns: <em>string</em>
</li>
</ul><h3>
<a name="stringreplacechar-str-npos-sreplace--or-stringreplacechar-npos-sreplace-" class="anchor" href="#stringreplacechar-str-npos-sreplace--or-stringreplacechar-npos-sreplace-"><span class="octicon octicon-link"></span></a>string.replaceChar( str, nPos, sReplace ) OR string:replaceChar( nPos, sReplace )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">string</span><span class="p">:</span><span class="n">replaceChar</span><span class="p">(</span> <span class="n">nPos</span><span class="p">,</span> <span class="n">sReplace</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nPos</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nLength</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sReplace</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nCharSet</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">self</span><span class="p">:</span><span class="n">sub</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nPos</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">..</span> <span class="n">sReplace</span> <span class="o">..</span> <span class="n">self</span><span class="p">:</span><span class="n">sub</span><span class="p">(</span> <span class="n">nPos</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Replaces character at nPos in string with sReplace</li>
<li>Returns: <em>string</em>
</li>
</ul><h3>
<a name="stringsafepattern" class="anchor" href="#stringsafepattern"><span class="octicon octicon-link"></span></a>string.safePattern()</h3>

<div class="highlight highlight-Lua"><pre><span class="n">To</span> <span class="n">be</span> <span class="n">completed</span>
</pre></div>

<p>( Insert description here )</p>

<h3>
<a name="stringsplitatwhite-str-" class="anchor" href="#stringsplitatwhite-str-"><span class="octicon octicon-link"></span></a>string.splitAtWhite( str )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">string</span><span class="p">:</span><span class="n">splitAtWhite</span><span class="p">()</span>
    <span class="kd">local</span> <span class="n">tData</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">sArg</span> <span class="k">in</span> <span class="n">self</span><span class="p">:</span><span class="n">gmatch</span><span class="p">(</span> <span class="s2">"</span><span class="s">[^%s]+"</span> <span class="p">)</span> <span class="k">do</span>
        <span class="nb">table.insert</span><span class="p">(</span> <span class="n">tData</span><span class="p">,</span> <span class="n">sArg</span> <span class="p">)</span>
    <span class="k">end</span>
    <span class="k">return</span> <span class="n">tData</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Splits str into seperate elements based on whitespace. Good for pulling arguments from a single string</li>
<li>Returns: <em>table</em>
</li>
</ul><h2>
<a name="table-api" class="anchor" href="#table-api"><span class="octicon octicon-link"></span></a>Table API</h2>

<h3>
<a name="tablesortltog-tbl-" class="anchor" href="#tablesortltog-tbl-"><span class="octicon octicon-link"></span></a>table.sortLToG( tbl )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">table</span><span class="p">.</span><span class="nf">sortLToG</span><span class="p">(</span> <span class="n">tbl</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">tbl</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">table"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Table expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">tbl</span> <span class="p">),</span> <span class="mi">2</span> <span class="p">)</span>
  <span class="nb">table.sort</span><span class="p">(</span> <span class="n">tbl</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="p">)</span> <span class="k">return</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span> <span class="k">end</span> <span class="p">)</span>
  <span class="k">return</span> <span class="n">tbl</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Sorts tbl's elements from least to greatest( A - Z, 1 - 9, etc )</li>
<li>Returns: <em>table</em>
</li>
</ul><h3>
<a name="tablesortgtol-tbl-" class="anchor" href="#tablesortgtol-tbl-"><span class="octicon octicon-link"></span></a>table.sortGToL( tbl )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">table</span><span class="p">.</span><span class="nf">sortGToL</span><span class="p">(</span> <span class="n">tbl</span> <span class="p">)</span>
  <span class="nb">table.sort</span><span class="p">(</span> <span class="n">tbl</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="p">)</span> <span class="k">return</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span> <span class="k">end</span> <span class="p">)</span>
  <span class="k">return</span> <span class="n">tbl</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Sorts tbl's elements from greatest to least ( Z - A, 9 - 1, etc )</li>
<li>Returns: table</li>
</ul><h2>
<a name="term-api" class="anchor" href="#term-api"><span class="octicon octicon-link"></span></a>Term API</h2>

<h3>
<a name="termgetcursorblink" class="anchor" href="#termgetcursorblink"><span class="octicon octicon-link"></span></a>term.getCursorBlink()</h3>

<div class="highlight highlight-Lua"><pre><span class="n">To</span> <span class="n">be</span> <span class="n">completed</span>
</pre></div>

<p>( Insert description here )</p>

<h3>
<a name="termclear-nx-ny-ntextcolour-nbackgroundcolour-" class="anchor" href="#termclear-nx-ny-ntextcolour-nbackgroundcolour-"><span class="octicon octicon-link"></span></a>term.clear( nx, ny, nTextColour, nBackgroundColour )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">term</span><span class="p">.</span><span class="nf">clear</span><span class="p">(</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">,</span> <span class="n">nTextColour</span><span class="p">,</span> <span class="n">nBackgroundColour</span> <span class="p">)</span>
  <span class="k">if</span> <span class="n">nTextColour</span> <span class="o">~=</span> <span class="kc">nil</span> <span class="k">then</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nTextColour</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nTextColour</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">term</span><span class="p">.</span><span class="n">setTextColour</span><span class="p">(</span> <span class="n">nTextColour</span> <span class="p">)</span>
  <span class="k">end</span>
  <span class="k">if</span> <span class="n">nBackgroundColour</span> <span class="o">~=</span> <span class="kc">nil</span> <span class="k">then</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nBackgroundColour</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nBackgroundColour</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">term</span><span class="p">.</span><span class="n">setBackgroundColour</span><span class="p">(</span> <span class="n">nBackgroundColour</span> <span class="p">)</span>
  <span class="k">end</span>
  <span class="k">if</span> <span class="n">nx</span> <span class="o">~=</span> <span class="kc">nil</span> <span class="k">then</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nx</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nx</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="k">if</span> <span class="n">ny</span> <span class="o">~=</span> <span class="kc">nil</span> <span class="k">then</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">ny</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nx</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="n">term</span><span class="p">.</span><span class="n">setCursorPos</span><span class="p">(</span> <span class="n">nx</span> <span class="ow">or</span> <span class="n">currentX</span><span class="p">,</span> <span class="n">ny</span> <span class="ow">or</span> <span class="n">currentY</span> <span class="p">)</span>
  <span class="n">oldTerm</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>
  <span class="kd">local</span> <span class="n">nMaxx</span><span class="p">,</span><span class="n">nMaxy</span> <span class="o">=</span> <span class="n">term</span><span class="p">.</span><span class="n">getSize</span><span class="p">()</span>
  <span class="c1">-- Clear pixel data</span>
  <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nMaxx</span> <span class="k">do</span>
    <span class="k">for</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nMaxy</span> <span class="k">do</span>
      <span class="n">tPixels</span><span class="p">[</span><span class="n">i</span><span class="o">..</span><span class="s2">"</span><span class="s"> "</span><span class="o">..</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">Character</span> <span class="o">=</span> <span class="s2">"</span><span class="s"> "</span><span class="p">,</span>
        <span class="n">TextColor</span> <span class="o">=</span> <span class="n">nTextColour</span> <span class="ow">or</span> <span class="n">term</span><span class="p">.</span><span class="n">getTextColour</span><span class="p">(),</span>
        <span class="n">TextColour</span> <span class="o">=</span> <span class="n">nTextColour</span> <span class="ow">or</span> <span class="n">term</span><span class="p">.</span><span class="n">getTextColour</span><span class="p">(),</span>
        <span class="n">BackgroundColor</span> <span class="o">=</span> <span class="n">nBackgroundColour</span> <span class="ow">or</span> <span class="n">term</span><span class="p">.</span><span class="n">getBackgroundColour</span><span class="p">(),</span>
        <span class="n">BackgroundColour</span> <span class="o">=</span> <span class="n">nBackgroundColour</span> <span class="ow">or</span> <span class="n">term</span><span class="p">.</span><span class="n">getBackgroundColour</span><span class="p">()</span>
      <span class="p">}</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>( Insert description here )</p>

<h3>
<a name="termreset" class="anchor" href="#termreset"><span class="octicon octicon-link"></span></a>term.reset()</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">term</span><span class="p">.</span><span class="nf">reset</span><span class="p">()</span>
  <span class="n">term</span><span class="p">.</span><span class="n">setTextColour</span><span class="p">(</span><span class="n">colors</span><span class="p">.</span><span class="n">white</span><span class="p">)</span>
  <span class="n">term</span><span class="p">.</span><span class="n">setBackgroundColour</span><span class="p">(</span><span class="n">colors</span><span class="p">.</span><span class="n">black</span><span class="p">)</span>
  <span class="n">term</span><span class="p">.</span><span class="n">setCursorPos</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">term</span><span class="p">.</span><span class="n">setCursorBlink</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
  <span class="n">term</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>
<span class="k">end</span>
</pre></div>

<p>( Insert description here )</p>

<h3>
<a name="termgetpixeldata-nx-ny-" class="anchor" href="#termgetpixeldata-nx-ny-"><span class="octicon octicon-link"></span></a>term.getPixelData( nx, ny )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">term</span><span class="p">.</span><span class="nf">getPixelData</span><span class="p">(</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nx</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nx</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">ny</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">ny</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">tPixels</span><span class="p">[</span> <span class="n">nx</span> <span class="o">..</span> <span class="s2">"</span><span class="s"> "</span> <span class="o">..</span> <span class="n">ny</span> <span class="p">]</span>
<span class="k">end</span>
</pre></div>

<p>( Insert description here )</p>

<h3>
<a name="termgettextcolor" class="anchor" href="#termgettextcolor"><span class="octicon octicon-link"></span></a>term.getTextColor()</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">term</span><span class="p">.</span><span class="nf">getTextColor</span><span class="p">()</span>
  <span class="k">return</span> <span class="n">currentTextColour</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Returns the current terminal's text color</li>
<li>Returns: color <em>number</em>
</li>
</ul><h3>
<a name="termgetbackgroundcolour" class="anchor" href="#termgetbackgroundcolour"><span class="octicon octicon-link"></span></a>term.getBackgroundColour()</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nc">term</span><span class="p">.</span><span class="nf">getBackgroundColour</span><span class="p">()</span>
  <span class="k">return</span> <span class="n">currentBackgroundColour</span>
<span class="k">end</span>
</pre></div>

<ul>
<li>Returns the current terminal's background color</li>
<li>Returns: color <em>number</em>
</li>
</ul><h2>
<a name="text-api" class="anchor" href="#text-api"><span class="octicon octicon-link"></span></a>Text API</h2>

<h3>
<a name="textbracket-stext-nx-ny-ntextcolour-nbracketcolour-nbackgroundcolour-" class="anchor" href="#textbracket-stext-nx-ny-ntextcolour-nbracketcolour-nbackgroundcolour-"><span class="octicon octicon-link"></span></a>text.bracket( sText, nx, ny, nTextColour, nBracketColour, nBackgroundColour )</h3>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">bracket</span><span class="p">(</span> <span class="n">sText</span><span class="p">,</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span><span class="p">,</span> <span class="n">nTextColour</span><span class="p">,</span> <span class="n">nBracketColour</span><span class="p">,</span> <span class="n">nBackgroundColour</span> <span class="p">)</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sText</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sText</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nx</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nx</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">ny</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">ny</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">nTextColour</span> <span class="k">then</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nTextColour</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number/nil expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nTextColour</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="k">if</span> <span class="n">nBracketColour</span> <span class="k">then</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nBracketColour</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number/nil expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nBracketColour</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="k">if</span> <span class="n">nBackgroundColour</span> <span class="k">then</span>
        <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nBackgroundColour</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number/nil expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nBackgroundColour</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">term</span><span class="p">.</span><span class="n">setBackgroundColour</span><span class="p">(</span> <span class="n">nBackgroundColour</span> <span class="p">)</span>
    <span class="k">end</span>

    <span class="kd">local</span> <span class="n">xPos</span><span class="p">,</span> <span class="n">yPos</span> <span class="o">=</span> <span class="n">term</span><span class="p">.</span><span class="n">getCursorPos</span><span class="p">()</span>
    <span class="n">term</span><span class="p">.</span><span class="n">setCursorPos</span><span class="p">(</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span> <span class="p">)</span>
    <span class="n">term</span><span class="p">.</span><span class="n">setTextColour</span><span class="p">(</span> <span class="n">nBracketColour</span> <span class="ow">or</span> <span class="n">colours</span><span class="p">.</span><span class="n">white</span> <span class="p">)</span>
    <span class="n">term</span><span class="p">.</span><span class="n">write</span><span class="p">(</span> <span class="s2">"</span><span class="s">["</span> <span class="o">..</span> <span class="nb">string.rep</span><span class="p">(</span><span class="s2">"</span><span class="s"> "</span><span class="p">,</span> <span class="o">#</span><span class="n">sText</span><span class="p">)</span> <span class="o">..</span> <span class="s2">"</span><span class="s">]"</span> <span class="p">)</span>

    <span class="n">term</span><span class="p">.</span><span class="n">setTextColour</span><span class="p">(</span> <span class="n">nTextColour</span> <span class="ow">or</span> <span class="n">colours</span><span class="p">.</span><span class="n">white</span> <span class="p">)</span>
  <span class="n">term</span><span class="p">.</span><span class="n">setCursorPos</span><span class="p">(</span> <span class="n">nx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ny</span> <span class="p">)</span>
    <span class="n">term</span><span class="p">.</span><span class="n">write</span><span class="p">(</span> <span class="n">sText</span> <span class="p">)</span>
<span class="k">end</span>
</pre></div>

<p>( Insert description here )</p>

<h2>
<a name="textcenter-stext-nx-ny-" class="anchor" href="#textcenter-stext-nx-ny-"><span class="octicon octicon-link"></span></a>text.center( sText, nx, ny )</h2>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">center</span><span class="p">(</span> <span class="n">sText</span><span class="p">,</span> <span class="n">nx</span><span class="p">,</span> <span class="n">ny</span> <span class="p">)</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sText</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sText</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nx</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">nx</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">ny</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">number"</span><span class="p">,</span> <span class="s2">"</span><span class="s">Number expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">ny</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">term</span><span class="p">.</span><span class="n">setCursorPos</span><span class="p">(</span> <span class="p">((</span> <span class="n">nx</span> <span class="o">-</span> <span class="o">#</span><span class="n">sText</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ny</span> <span class="p">)</span>
    <span class="n">term</span><span class="p">.</span><span class="n">write</span><span class="p">(</span> <span class="n">sText</span> <span class="p">)</span>
<span class="k">end</span>
</pre></div>

<p>( Insert description here )</p>

<h2>
<a name="textprintcolorformat-stext-" class="anchor" href="#textprintcolorformat-stext-"><span class="octicon octicon-link"></span></a>text.printColorFormat( sText )</h2>

<div class="highlight highlight-Lua"><pre><span class="k">function</span> <span class="nf">printColourFormat</span><span class="p">(</span> <span class="n">sText</span> <span class="p">)</span>
  <span class="nb">assert</span><span class="p">(</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sText</span> <span class="p">)</span> <span class="o">==</span> <span class="s2">"</span><span class="s">string"</span><span class="p">,</span> <span class="s2">"</span><span class="s">String expected, got "</span> <span class="o">..</span> <span class="nb">type</span><span class="p">(</span> <span class="n">sText</span> <span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
  <span class="kd">local</span> <span class="n">char200</span> <span class="o">=</span> <span class="nb">string.char</span><span class="p">(</span> <span class="mi">200</span> <span class="p">)</span>

  <span class="kd">local</span> <span class="n">storage</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="kd">local</span> <span class="k">function</span> <span class="nf">matchLong</span><span class="p">(</span> <span class="n">sMode1</span><span class="p">,</span> <span class="n">sColour1</span><span class="p">,</span> <span class="n">sMode2</span><span class="p">,</span> <span class="n">sColour2</span> <span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">sMode1</span> <span class="o">==</span> <span class="s2">"</span><span class="s">t"</span> <span class="ow">and</span> <span class="n">sMode2</span> <span class="o">==</span> <span class="s2">"</span><span class="s">b"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">sMode1</span> <span class="o">==</span> <span class="s2">"</span><span class="s">b"</span> <span class="ow">and</span> <span class="n">sMode2</span> <span class="o">==</span> <span class="s2">"</span><span class="s">t"</span><span class="p">)</span> <span class="k">then</span>
      <span class="nb">table.insert</span><span class="p">(</span> <span class="n">storage</span><span class="p">,</span> <span class="p">{</span> 
        <span class="n">t</span> <span class="o">=</span> <span class="p">(</span> <span class="n">sMode1</span> <span class="o">==</span> <span class="s2">"</span><span class="s">t"</span> <span class="ow">and</span> <span class="nb">tonumber</span><span class="p">(</span> <span class="n">sColour1</span> <span class="p">)</span> <span class="ow">or</span> <span class="nb">tonumber</span><span class="p">(</span> <span class="n">sColour2</span> <span class="p">)</span> <span class="p">),</span>
        <span class="n">b</span> <span class="o">=</span> <span class="p">(</span> <span class="n">sMode1</span> <span class="o">==</span> <span class="s2">"</span><span class="s">b"</span> <span class="ow">and</span> <span class="nb">tonumber</span><span class="p">(</span> <span class="n">sColour1</span> <span class="p">)</span> <span class="ow">or</span> <span class="nb">tonumber</span><span class="p">(</span> <span class="n">sColour2</span> <span class="p">)</span> <span class="p">)</span>
      <span class="p">}</span> <span class="p">)</span>
    <span class="k">end</span>

    <span class="k">if</span> <span class="n">sMode1</span> <span class="o">==</span> <span class="s2">"</span><span class="s">b"</span> <span class="ow">and</span> <span class="n">sMode2</span> <span class="o">==</span> <span class="s2">"</span><span class="s">b"</span> <span class="k">then</span>
      <span class="nb">table.insert</span><span class="p">(</span> <span class="n">storage</span><span class="p">,</span> <span class="p">{</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">tonumber</span><span class="p">(</span> <span class="n">sColour2</span> <span class="p">)</span> <span class="p">}</span> <span class="p">)</span>
    <span class="k">elseif</span> <span class="n">sMode1</span> <span class="o">==</span> <span class="s2">"</span><span class="s">t"</span> <span class="ow">and</span> <span class="n">sMode2</span> <span class="o">==</span> <span class="s2">"</span><span class="s">t"</span> <span class="k">then</span>
      <span class="nb">table.insert</span><span class="p">(</span> <span class="n">storage</span><span class="p">,</span> <span class="p">{</span> <span class="n">t</span> <span class="o">=</span> <span class="nb">tonumber</span><span class="p">(</span> <span class="n">sColour2</span> <span class="p">)</span> <span class="p">}</span> <span class="p">)</span>
    <span class="k">end</span>
    <span class="k">return</span> <span class="n">char200</span>
  <span class="k">end</span>

  <span class="kd">local</span> <span class="k">function</span> <span class="nf">matchShort</span><span class="p">(</span> <span class="n">sMode</span><span class="p">,</span> <span class="n">sColour</span> <span class="p">)</span> 
    <span class="k">return</span> <span class="n">matchLong</span><span class="p">(</span> <span class="n">sMode</span><span class="p">,</span> <span class="n">sColour</span><span class="p">,</span> <span class="n">sMode</span><span class="p">,</span> <span class="n">sColour</span> <span class="p">)</span>
  <span class="k">end</span>

  <span class="c1">-- Parse the text</span>
  <span class="kd">local</span> <span class="n">parsed</span> <span class="o">=</span> <span class="n">sText</span><span class="p">:</span><span class="n">gsub</span><span class="p">(</span> <span class="s2">"</span><span class="s">%[([bt])%s*=%s*(%d-);%s*([bt])%s*=%s*(%d-)%]"</span><span class="p">,</span> <span class="n">matchLong</span> <span class="p">)</span>
  <span class="n">parsed</span> <span class="o">=</span> <span class="n">parsed</span><span class="p">:</span><span class="n">gsub</span><span class="p">(</span> <span class="s2">"</span><span class="s">%[([bt])%s*=%s*(%d-)%]"</span><span class="p">,</span> <span class="n">matchShort</span> <span class="p">)</span>

  <span class="c1">-- Print it out on the terminal</span>
  <span class="kd">local</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="kd">local</span> <span class="n">sMatch</span> <span class="o">=</span> <span class="s2">"</span><span class="s">[^"</span> <span class="o">..</span> <span class="n">char200</span> <span class="o">..</span> <span class="s2">"</span><span class="s">]+"</span>
  <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="o">#</span><span class="n">parsed</span> <span class="k">do</span>
    <span class="kd">local</span> <span class="n">char</span> <span class="o">=</span> <span class="n">parsed</span><span class="p">:</span><span class="n">sub</span><span class="p">(</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="ow">and</span> <span class="n">char</span> <span class="o">==</span> <span class="n">char200</span> <span class="k">then</span>
      <span class="k">if</span> <span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">t</span> <span class="k">then</span>
        <span class="n">term</span><span class="p">.</span><span class="n">setTextColour</span><span class="p">(</span> <span class="mi">2</span> <span class="o">^</span> <span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">t</span> <span class="p">)</span>
      <span class="k">end</span>
      <span class="k">if</span> <span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">b</span> <span class="k">then</span>
        <span class="n">term</span><span class="p">.</span><span class="n">setBackgroundColour</span><span class="p">(</span> <span class="mi">2</span> <span class="o">^</span> <span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">b</span> <span class="p">)</span>
      <span class="k">end</span>
      <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">else</span>
       <span class="n">write</span><span class="p">(</span> <span class="n">char</span> <span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>( Insert description here )</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">EnderAPI maintained by <a href="https://github.com/SuicidalSTDz">SuicidalSTDz</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
